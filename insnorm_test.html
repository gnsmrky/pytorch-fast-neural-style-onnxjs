<html>
<title>PyTorch fast-neural-style running in web browser</title>

<script src="https://cdn.jsdelivr.net/npm/onnxjs@0.1.4/dist/onnx.min.js"></script>

<body>
ONNX.js <b>instance_norm</b> op test.

<script>
    const sess = new onnx.InferenceSession({backendHint: 'wasm'});

    sess.loadModel("./onnx_models/candy_128x128_wasm.onnx").then(()=>{

    const x = new Float32Array(1*3*128*128).fill(1);
    const inputT = new onnx.Tensor(x, 'float32', [1,3,128,128]);

    sess.run([inputT]).then(output=>{
        const outputT = output.values().next().value;

        //console.log(`model output tensor: ${outputT.data}.`);
        console.log(`model output tensor size: ${outputT.size}`);
        });
    })
    </script>

</body>
</html>

